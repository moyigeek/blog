---
title: 城市水务系统网络安全攻防虚拟仿真实验
date: 2024-12-04 14:49:35
tags:
---


## 一、实验目的
（1）掌握虚拟化仿真技术在工业控制系统中的应用，理解水处理系统的网络架构及关
键组件；
（2）熟悉Modbus通讯协议的基本原理与数据包结构，学会使用Wireshark等工具抓取并
分析通信数据包，能够编写Modbus协议的攻击脚本，熟练使用Modscan32等工具进行Modbus
协议的安全测试；
（3）能够独立搭建典型的水处理系统网络环境，能够模拟并实施对水处理系统官网及
上下位机的攻击，能够基于通信数据包分析，发现并利用潜在的安全漏洞，能够制定并实施
有效的安全防护措施。
（4）培养学生的网络安全意识和社会责任感，了解水利领域安全的重要性，强调在利
用技术时应遵守法律法规，维护国家安全和社会稳定。（课程思政）
## 二、实验内容
本次实训模拟了典型的水处理系统行业的网络结构，学生需要对网络中提供的指定节点（水务
官网）进行渗透测试获取web层目标的权限，之后进入工业控制层网络，再次对工业控制目标上位
机（水处理上位机）节点、下位机（水处理PLC控制）节点进行攻击，完成实验设置的目标。实
训考察了学员的web渗透技巧、工业通信协议以及施耐德虚拟PLC的攻击等知识点。



## 实验一水务官网渗透                      

1.. 在网络配置中可知水务官网的服务器IP地址，使用Nmap对该IP进行端口服务扫描探
测，或者直接使用带UI界面的Zenmap扫描。
提示：
（1）Web服务HTTP默认端口号为80；
（2）查找资料了解nmap命令和Zenmap用法。
2. 找出网站Web服务后台管理员登录地址。
提示：
（1）学习使用“御剑”批量扫描后台； 
（2）双击选择“御剑”内所有配置文件（字典），了解配置文件内容；
（3）找到后台管理员登录php页面，从php页面源代码中找到phpMyAdmin数据库管理界面。
3. 修改管理员账号密码并登录到后台管理。
提示：
（1）未授权访问漏洞；
（2）找到存放管理员账号密码的数据库；
（3）查找资料了解dedecms密码加密方式。
4. 为水务官网服务器远程访问账户进行登录，获取flag。
提示：
（1）文件上传getshell（采用修改上传文件类型）；
（2）记得浏览器提前手动配置代理（127.0.0.1/8080）；
（3）学习使用burpsuite捕获通信包；
（4）学习使用中国菜刀（连接密码为cmd）；
（5）学习提权工具PrintSpoofer.exe漏洞利用原理；
示例：执行命令添加一个远程访问账户hack并添加到administrators用户组：
PrintSpoofer.exe-c "net user hackAdmin@123 /add"
 PrintSpoofer.exe-c "net localgroup administrators hack/add"
 5. 翻查administrator 账户的，可以找到flag：

```
flag{27A2A821C1DB31C7}
```